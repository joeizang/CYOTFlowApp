@model FlowApplicationApp.ViewModels.CodeOfConduct.CodeOfConductViewModel

@{
    ViewBag.Title = "Code of Conduct";
    Layout = "_Layout";
}

<div class="container my-4 my-md-5">
    <div class="row">
        <div class="col-12">
            <!-- Header Section - Responsive -->
            <div class="mb-4">
                <div class="d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center gap-3">
                    <h1 class="display-5 display-md-4 mb-0">Code of Conduct</h1>
                    <div class="d-flex flex-column flex-sm-row gap-2 w-100 w-md-auto">
                        @if (Model.DocumentId.HasValue)
                        {
                            <a href="@Url.Action("Download", "CodeOfConduct")" class="btn btn-primary rounded">
                                <i class="bi bi-download"></i> <span class="d-none d-sm-inline">Download</span> DOCX
                            </a>
                        }
                        @if (Model.CanEdit)
                        {
                            <a href="@Url.Action("Upload", "CodeOfConduct")" class="btn btn-primary rounded">
                                <i class="bi bi-upload"></i> <span class="d-none d-sm-inline">Upload New</span><span class="d-inline d-sm-none">Upload</span> Version
                            </a>
                            <a href="@Url.Action("Versions", "CodeOfConduct")" class="btn btn-secondary rounded">
                                <i class="bi bi-clock-history"></i> <span class="d-none d-sm-inline">Manage</span> Versions
                            </a>
                        }
                    </div>
                </div>
            </div>

            @if (Model.Version > 0)
            {
                <div class="alert alert-info rounded">
                    <div class="d-flex flex-column flex-md-row gap-2 gap-md-3">
                        <span><strong>Version:</strong> @Model.Version</span>
                        @if (Model.UploadedAt.HasValue)
                        {
                            <span><strong>Last Updated:</strong> @Model.UploadedAt.Value.ToString("MMMM dd, yyyy")</span>
                        }
                        @if (!string.IsNullOrEmpty(Model.UploadedByName))
                        {
                            <span><strong>Uploaded By:</strong> @Model.UploadedByName</span>
                        }
                    </div>
                </div>
            }

            <div class="card shadow-sm rounded">
                <div class="card-body p-3 p-md-4">
                    @Html.Raw(Model.HtmlContent)
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    /* Consistent border radius across the app */
    .card,
    .alert,
    .btn {
        border-radius: 0.375rem !important;
    }
    
    .code-of-conduct-content {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        line-height: 1.6;
    }
    
    .code-of-conduct-content h1,
    .code-of-conduct-content h2,
    .code-of-conduct-content h3 {
        margin-top: 1.5rem;
        margin-bottom: 1rem;
    }
    
    .code-of-conduct-content p {
        margin-bottom: 1rem;
    }
    
    .code-of-conduct-content table {
        width: 100%;
        margin-bottom: 1rem;
        overflow-x: auto;
        display: block;
    }
    
    .code-of-conduct-content ul,
    .code-of-conduct-content ol {
        margin-bottom: 1rem;
        padding-left: 1.5rem;
    }
    
    /* Responsive improvements */
    @@media (max-width: 576px) {
        .display-5 {
            font-size: 2rem;
        }
        
        .btn {
            font-size: 0.875rem;
        }
    }
</style>
